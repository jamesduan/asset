{% extends "ycc/base.html" %}

{% block content %}

<link href="{{ STATIC_URL }}ycc/css/ycc.css" rel="stylesheet"/>
<script src="{{ STATIC_URL }}ycc/js/configinfo.js"></script>


<div class="page-header">
  <h1>配置信息管理</h1>
</div>

<div class="modal fade" id="addValue" tabindex="-1" role="dialog" aria-labelledby="addValueTitle" aria-hidden="true">
<div class="modal-dialog" style="width:800px;">
<div class="modal-content">
<form class="form-horizontal" role="form" id="attributeForm" method="POST">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">
        <span aria-hidden="true">&times;</span>
        <span class="sr-only">Close</span>
    </button>
    <h4 class="modal-title" id="addValueTitle">新增配置文件</h4>
  </div>
  <div class="modal-body">

      <div class="form-group">
        <label for="group_id" class="col-sm-2 control-label">配置组</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="group_id" id="group_id" readonly />
        </div>
      </div>

      <div class="form-group">
        <label for="idc" class="col-sm-2 control-label">IDC</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="idc" id="idc" readonly />
        </div>
      </div>

      <div class="form-group">
        <label for="data_id" class="col-sm-2 control-label">配置文件名</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="data_id" id="data_id" />
        </div>
      </div>

      <div class="form-group">
        <label for="remark" class="col-sm-2 control-label">说明</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="2" name="remark" id="remark"></textarea>
        </div>
      </div>

      <div class="form-group">
        <label for="content" class="col-sm-2 control-label">配置文件内容</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="10" name="content" id="content"></textarea>
        </div>
      </div>

      <!--input type="hidden" class="form-control" name="group_id" id="group_id" />
      <input type="hidden" class="form-control" name="idc" id="idc" /-->
      <input type="hidden" class="form-control" name="file_type" id="file_type" value="txt" />
      <input type="hidden" class="form-control" name="cmp" id="cmp" value="0" />

  </div>
  <div class="modal-footer">
    <button type="reset" class="btn btn-default" data-dismiss="modal">取消</button>
    <button type="submit" class="btn btn-primary" id="submit1">保存</button>
  </div>
</form>
</div>
</div>
</div>

<div class="modal fade" id="editValue" tabindex="-1" role="dialog" aria-labelledby="editValueTitle" aria-hidden="true">
<div class="modal-dialog" style="width:900px;">
<div class="modal-content">
<form class="form-horizontal" role="form" id="attributeForm2" method="POST">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">
        <span aria-hidden="true">&times;</span>
        <span class="sr-only">Close</span>
    </button>
    <h4 class="modal-title" id="editValueTitle"></h4>
  </div>
  <div class="modal-body">

      <!--div class="form-group">
        <label for="e_group_id" class="col-sm-2 control-label">配置组</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="e_group_id" id="e_group_id" readonly="readonly" />
        </div>
      </div>

      <div class="form-group">
        <label for="e_idc" class="col-sm-2 control-label">IDC</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="e_idc" id="e_idc" readonly="readonly" />
        </div>
      </div>

      <div class="form-group">
        <label for="e_env" class="col-sm-2 control-label">环境</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="e_env" id="e_env" readonly="readonly" />
        </div>
      </div>

      <div class="form-group">
        <label for="e_data_id" class="col-sm-2 control-label">配置文件名</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" name="e_data_id" id="e_data_id" readonly="readonly" />
        </div>
      </div-->

      <div class="form-group">
        <label for="e_remark" class="col-sm-2 control-label">说明</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="2" name="e_remark" id="e_remark"></textarea>
        </div>
      </div>

      <div class="form-group">
        <label for="e_content" class="col-sm-2 control-label">配置文件内容</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="18" name="e_content" id="e_content"></textarea>
        </div>
      </div>

      <input type="hidden" class="form-control" name="e_group_id" id="e_group_id" />
      <input type="hidden" class="form-control" name="e_idc" id="e_idc"  />
      <input type="hidden" class="form-control" name="e_env" id="e_env" readonly="readonly" />
      <input type="hidden" class="form-control" name="e_data_id" id="e_data_id" />
      <input type="hidden" class="form-control" name="e_file_type" id="e_file_type" value="txt" />
      <input type="hidden" class="form-control" name="e_cmp" id="e_cmp"/>
      <input type="hidden" class="form-control" name="e_id" id="e_id"/>

  </div>
  <div class="modal-footer">
    <button type="reset" class="btn btn-default" data-dismiss="modal">取消</button>
    <button type="submit" class="btn btn-primary" id="submit2">保存</button>
  </div>
</form>
</div>
</div>
</div>

<div>
    <div class="col-sm-6">
        <label for="s_group" style="width:50px;">配置组:</label>
        <input type="text" id="s_group" class="zInputTxt" />
    </div>
    <div class="col-sm-6">
        <label for="s_idc" style="width:50px;">IDC:</label>
        <input type="text" id="s_idc" class="zInputTxt" />
    </div>
    <div class="col-sm-6">
        <label for="s_filetype" style="width:50px;">类型:</label>
        <input type="text" id="s_filetype" class="zInputTxt" />
    </div>
    <div class="col-sm-6">
        <label for="s_key" style="width:50px;">关键字:</label>
        <input type="text" id="s_key" class="zInputTxt" />
    </div>
    <input type="hidden" id="s_group_status" class="zInputTxt" />
</div>

<div id="toolbar" style="margin:5px 0 10px 0">
    <button id="create_btn" data-toggle="modal" class="btn btn-primary">
        <i class="glyphicon glyphicon-plus"></i>新增
    </button>
    <button id="query_btn" class="btn btn-primary">
        <i class="glyphicon glyphicon-list"></i>查询
    </button>
    <button id="sub2audit_btn" class="btn btn-primary">
        <i class="glyphicon glyphicon-ok"></i>提交审核
    </button>
</div>

<table id="configinfo">
</table>

<script>
    $(function(){
      main("{{ CMDBAPI_URL }}", "{{ API_TOKEN }}");
    })
</script>

{% endblock %}
